{% extends 'base.html' %}
{% load static %}

{% block topmenu %}
<!-- This is an example component -->
<div class="grid min-h-[140px] w-full place-items-left overflow-x-scroll rounded-lg p-6 lg:overflow-visible">
  <div class="flex items-center gap-4 w-full">
    <div class="flex divide-x divide-blue-600">
      <button
        class="align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 bg-blue-500 text-white shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none rounded-l-lg"
        type="button">
        <a href="{% url 'home-projects' %}"><img width="30px" src="{% static "images/skip-backward.svg" %}" alt="home-projects" title="home projects"></a>
      </button>
      {% comment %} <button
        class="align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 bg-blue-500 text-white shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none"
        type="button">
        <a href="{% url 'home' %}"><img width="30px" src="{% static "images/house.svg" %}" alt="home" title="home"></a>
      </button>
      <button
        class="align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 bg-blue-500 text-white shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none"
        type="button">
        <a href="{% url 'new-document' instance.pk %}"><img width="30px" src="{% static "images/file-earmark-plus.svg" %}" alt="new" title="Create a new building"></a>
      </button> {% endcomment %}
      <button
        class="align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 bg-blue-500 text-white shadow-md shadow-blue-500/20 hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none rounded-r-lg"
        type="button">
        <a href="{% url 'home' %}"><img width="30px" src="{% static "images/house.svg" %}" alt="home" title="Home"></a>
      </button>
    </div>
  </div>
</div>
{% endblock %}


{% block content %}
  <div class="max-w-sm w-full lg:max-w-full lg:flex">
    {% comment %} <div class="h-48 lg:h-auto lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden" style="background-image: url('/img/card-left.jpg')" title="Woman holding a mug">
    </div> {% endcomment %}
    <div class="border-r border-b border-l border-gray-400 lg:border-l-1 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal w-full">
      <div class="mb-8">
        <p class="text-sm text-gray-600 flex items-center">
          {{ project.code }} / {{ project.year }}
        </p>
        <div class="text-gray-900 font-bold text-xl mb-2">{{ project.name }}</div>
        <p class="text-gray-700 text-base">{{ project.description }}</p>
      </div>
    </div>
  </div>

  <div class="card-body">
    <div class="w-full mt-6" x-data="{ openTab: 1 }">
      <div>
          <ul class="flex border-b" id="myTab">
            <li class="-mb-px mr-1" @click="openTab = 1">
                <a :class="openTab === 1 ? 'border-l border-t border-r rounded-t text-blue-700 font-semibold' : 'text-blue-500 hover:text-blue-800'" class="bg-white inline-block py-2 px-4 font-semibold" href="#">Profile</a>
            </li>
            <li class="mr-1" @click="openTab = 2">
                <a :class="openTab === 2 ? 'border-l border-t border-r rounded-t text-blue-700 font-semibold' : 'text-blue-500 hover:text-blue-800'" class="bg-white inline-block py-2 px-4 font-semibold" href="#">Buildings</a>
            </li>
            <li class="mr-1" @click="openTab = 3">
                <a :class="openTab === 3 ? 'border-l border-t border-r rounded-t text-blue-700 font-semibold' : 'text-blue-500 hover:text-blue-800'" class="bg-white inline-block py-2 px-4 font-semibold" href="#">Members</a>
            </li>
            <li class="mr-1" @click="openTab = 4">
                <a :class="openTab === 4 ? 'border-l border-t border-r rounded-t text-blue-700 font-semibold' : 'text-blue-500 hover:text-blue-800'" class="bg-white inline-block py-2 px-4 font-semibold" href="#">Stakeholders</a>
            </li>
          </ul>
      </div>
      <div class="bg-white p-6">
          <div id="tab1" class="" x-show="openTab === 1">
              <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
                <table class="min-w-full">
                  <tbody>
                    <tr class="bg-gray-100">
                      <td class="w-1/5 text-left py-2 px-4">Project manager</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.project_manager }}</td>
                    </tr>
                    <tr class="bg-gray-300">
                      <td class="w-1/5 text-left py-2 px-4">Project manager support</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.project_manager_support }}</td>
                    </tr>
                    <tr class="bg-gray-100">
                      <td class="w-1/5 text-left py-2 px-4">Create date</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.created_at }}</td>
                    </tr>
                    <tr class="bg-gray-300">
                      <td class="w-1/5 text-left py-2 px-4">Update date</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.updated_at }}</td>
                    </tr>
                    <tr class="bg-gray-100">
                      <td class="w-1/5 text-left py-2 px-4">Interlocutor</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.interlocutor }}</td>
                    </tr>
                    <tr class="bg-gray-300">
                      <td class="w-1/5 text-left py-2 px-4">Project status</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.get_project_status_display }}</td>
                    </tr>
                    <tr class="bg-gray-100">
                      <td class="w-1/5 text-left py-2 px-4">Remarks</td>
                      <td class="w-4/5 text-left py-2 px-4">{{ project.remarks }}</td>
                    </tr>
                  </tbody>
                </table>
              </div>        
          </div>
          <div id="tab2" class="" x-show="openTab === 2">
              <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
                <table class="min-w-full">
                  <tbody>
                    {% for name in project.buildings.all %}
                      {% if forloop.counter|divisibleby:"2" %}
                        <tr class="bg-gray-100"><td>{{ name }}</td></tr>
                      {% else %}
                        <tr class="bg-gray-300"><td>{{ name }}</td></tr>
                      {% endif %}
                    {% endfor %}
                  </tbody>
                </table>
              </div>

          </div>
          <div id="tab3" class="" x-show="openTab === 3">
            <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
              <table class="min-w-full">
                <tbody>
                  {% for username in project.members.all %}
                    {% if forloop.counter|divisibleby:"2" %}
                      <tr class="bg-gray-100"><td>{{ username }}</td></tr>
                    {% else %}
                      <tr class="bg-gray-300"><td>{{ username }}</td></tr>
                    {% endif %}
                  {% endfor %}
                </tbody>
              </table>
            </div>


          </div>
          <div id="tab4" class="" x-show="openTab === 4">

          <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
            <table class="min-w-full">
              <tbody>
                {% for username in project.stakeholders.all %}
                  {% if forloop.counter|divisibleby:"2" %}
                    <tr class="bg-gray-100"><td>{{ username }}</td></tr>
                  {% else %}
                    <tr class="bg-gray-300"><td>{{ username }}</td></tr>
                  {% endif %}
                {% endfor %}
              </tbody>
            </table>
          </div>
      </div>
    </div>
  </div>
</div>

  <div class="inline-flex rounded-md shadow-sm" role="group">
    <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-blue-500 border border-blue-500 rounded-e-lg hover:bg-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:text-white dark:bg-blue-700 dark:border-blue-600 dark:text-white dark:hover:text-white dark:hover:bg-blue-800 dark:focus:ring-blue-500 dark:focus:text-white">
      <a href="{% url 'home-documents' project.id %}">Documents</a>
    </button>
    <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-blue-500 border-t border-b border-blue-500 hover:bg-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:text-white dark:bg-blue-700 dark:border-blue-600 dark:text-white dark:hover:text-white dark:hover:bg-blue-800 dark:focus:ring-blue-500 dark:focus:text-white">
      <a href="{% url 'home-agreements' project.id %}">Agreements</a>
    </button>
    <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-blue-500 border-t border-b border-blue-500 hover:bg-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:text-white dark:bg-blue-700 dark:border-blue-600 dark:text-white dark:hover:text-white dark:hover:bg-blue-800 dark:focus:ring-blue-500 dark:focus:text-white">
      <a href="{% url 'home-budgets' project.id %}">Budget</a>
    </button>  
    <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-blue-500 border border-blue-500 rounded-e-lg hover:bg-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-500 focus:text-white dark:bg-blue-700 dark:border-blue-600 dark:text-white dark:hover:text-white dark:hover:bg-blue-800 dark:focus:ring-blue-500 dark:focus:text-white">
      <a href="#">Payments</a>
    </button>
  </div>
  
  <p style="font-size:0.775em">module: projects-details-2024.09</p>

{% endblock %}